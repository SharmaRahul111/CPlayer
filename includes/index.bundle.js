(()=>{function e(e){var t=Math.floor(e/60);return t<10&&(t="0"+t),(e=Math.floor(e%60))<10&&(e="0"+e),t+":"+e!="NaN:NaN"?t+":"+e:"00:00"}function t(e){return document.getElementById(e)}function n(e){return document.querySelector(e)}function l(e){return document.querySelectorAll(e)}function i(e){if(L[E]!==e){var t=new XMLHttpRequest;t.open("GET","ajax.php?load="+encodeURIComponent(e),!0),t.onload=function(){g.source(this.responseText)},t.send()}}function s(){E>=L.length-1?"repeatAll"===T?(i(L[0]),E=0):"repeatOne"===T?g.source(g.src):g.source(!1):0==L.length?g.source(!1):"repeatAll"===T||"onceAll"===T?(i(L[E+1]),E++):"repeatOne"===T?g.source(g.src):"onceOne"===T&&g.source(!1)}function a(){v.style.setProperty("width",m.value/5+"%")}t("audiocontrol").style.top=innerHeight-49+"px",n(".slidecontainer").style.top=innerHeight-166+"px",t("launchedcontrols").style.top=innerHeight-98+"px",t("playlist").style.height=innerHeight-98-1+"px",t("duration").style.top=innerHeight-205.8+"px",t("dirlist").style.height=innerHeight-70+"px",t("songlist").style.height=innerHeight-70+"px",t("player").style.top=innerHeight-65+"px",t("playlist").style.opacity=0,t("playlist").style.display="none",n('input[value="repeatAll"]').click();var o=t("launchplayer");const r=t("playpause"),c=l("#duration span"),u=(t("slider"),l(".fast")),p=l(".step"),d=n(".mute"),y=n(".repeatBtn"),f=l('input[name="repeat"]'),h=n(".playlistV"),m=n("#slider"),v=n(".bar .fill");var g=new Audio,L=new Array,E=null,T=(l("#playlist #list .playlist-list"),"repeatAll"),x=0,H=0,k=!1;function N(){n("#list").innerHTML="",L.forEach((function(e){var t=document.createElement("div");t.className="playlist-list",t.innerHTML='<a><i class="fas fa-arrows-alt-v"></i></a><a><i class="fas fa-music"></i></a><a class="name" onclick="loadsong2(`'+e+'`)">'+function(e){let t=e.split("/")[e.split("/").length-1];return t=t.split("."),t.pop(),t.join(".")}(e)+'</a><a class="i-btn"><i class="fas fa-ellipsis-v"></i></a>',n("#list").appendChild(t),q()}))}function q(){l("#playlist #list .playlist-list").forEach((function(e,t){e.ontouchstart=function(e){x=e.touches[0].clientX,H=e.touches[0].clientX},e.ontouchmove=function(t){e.style.left=-1*Number(x-t.touches[0].clientX).toFixed(2)+"px",H=t.touches[0].clientX},e.ontouchend=function(n){var l=getComputedStyle(e).width.substr(0,getComputedStyle(e).width.length-2);x-50>=H?(e.style.left-=l,function(e,t){e.style.transition=".4s",e.style.height=0,t==L.length-1?L.pop():L.splice(t,1),E>=t&&0!=E&&(E-=1),setTimeout((function(){e.style.display="none",N()}),450)}(e,t)):e.style.left="0px"}}))}onload=function(){var e;(e=new XMLHttpRequest).open("GET","scanner.php?dirs",!0),e.onload=function(){t("dirs").innerHTML=this.responseText,t("loader").style.opacity="0",setTimeout((function(){t("loader").style.display="none"}),1e3)},e.send()},setInterval((function(){g.paused?t("playpause").querySelector("i").className="fas fa-play":t("playpause").querySelector("i").className="fas fa-pause"}),650),g.source=function(e){if(!1===e);else{this.src=e,this.play();var i=l("marquee");let a=e.split("/")[e.split("/").length-1].split(".");a.pop();var s=a.join(".");i[0].innerHTML=s,i[1].innerHTML=s,document.title=s,t("playpause").querySelector("i").className="fas fa-pause",n("#player").style.display="block"}},f.forEach((function(e){e.addEventListener("input",(function(){T=this.value,t("repeat").style.display="none"})),e.parentElement.parentElement.parentElement.parentElement.addEventListener("click",(function(){t("repeat").style.display="none"}))})),addEventListener("hashchange",(function(){if("#songlist"!==location.hash?t("songlist").style.left="100vw":t("songlist").style.left="0vw","#player"!==location.hash){var e=t("player"),n=o.querySelector("i");e.style.top=innerHeight-65+"px",n.className="fas fa-angle-up"}else e=t("player"),n=o.querySelector("i"),e.style.top="-16px",n.className="fas fa-angle-down"})),t("closeSong").addEventListener("click",(function(){t("songlist").style.left="100vw",t("song").innerHTML=null})),t("optContainer").addEventListener("click",(function(){setTimeout((function(){t("optContainer").style.display="none"}),120)}),!0),n("#optList span:nth-child(1)").addEventListener("click",(function(){let e=n("#optList span:nth-child(1)").getAttribute("data-url");L.splice(E+1,0,e),N()})),n("#optList span:nth-child(2)").addEventListener("click",(function(){let e=n("#optList span:nth-child(2)").getAttribute("data-url");e&&(L.push(e),N())})),o.addEventListener("click",(function(){var e=t("player"),n=o.querySelector("i");"-16px"==e.style.top?(e.style.top=innerHeight-65+"px",n.className="fas fa-angle-up",location.hash):(e.style.top="-16px",n.className="fas fa-angle-down")})),g.addEventListener("timeupdate",(function(){c[1].innerHTML=e(g.duration),c[0].innerHTML=e(g.currentTime),k||(m.value=Math.round(g.currentTime/g.duration*500),a())})),r.addEventListener("click",(function(){g.paused?g.src?(r.querySelector("i").className="fas fa-pause",g.play()):0!==L.length&&(i(L[0]),E=0,r.querySelector("i").className="fas fa-pause"):(g.pause(),r.querySelector("i").className="fas fa-play")})),y.addEventListener("click",(function(){t("repeat").style.display="flex"})),d.addEventListener("click",(function(){g.muted?(g.muted=!1,d.querySelector("i").className="fas fa-volume-up"):(g.muted=!0,d.querySelector("i").className="fas fa-volume-mute")})),h.addEventListener("click",(function(){var e=t("playlist");if("none"==e.style.display){e.style.display="block";var n=0,l=setInterval((function(){e.style.opacity=n,e.style.opacity>=.98&&clearInterval(l),n+=.1}),10)}else e.style.opacity=0,setTimeout((function(){e.style.display="none"}),190)})),g.addEventListener("ended",s),p[0].addEventListener("click",(function(){E<=0?"repeatAll"===T?(i(L[L.length-1]),E=L.length-1):"repeatOne"===T?g.source(g.src):"onceOne"===T||"onceAll"===T||g.source(!1):0==L.length?g.source(!1):"repeatAll"===T||"onceAll"===T?(i(L[E-1]),E--):"repeatOne"===T?g.source(g.src):"onceOne"===T&&g.source(!1)})),p[1].addEventListener("click",s),u[0].addEventListener("click",(function(){g.currentTime>=10&&0!=L.length&&(g.currentTime-=10,a())})),u[1].addEventListener("click",(function(){g.currentTime<=10+g.duration&&0!=L.length&&(g.currentTime+=10,a())})),m.addEventListener("change",(function(){a(),g.currentTime=m.value/500*g.duration})),m.addEventListener("touchstart",(function(){k=!0})),m.addEventListener("touchend",(function(){k=!1})),q(),a()})();
//# sourceMappingURL=index.bundle.js.map